
# Coding Challenge for Senior Developers - V1

Welcome to [Xyicon](https://www.xyicon.com/)

The fact that you are reading this means, you are being considered as a strong developer to join our company. This repository contains a small coding challenge that you are to face.

### This is <u>**NOT**</u> an exam. You do not have to remember code or theory. You just need to "know" that they exist, where and how to look for them

The idea behind this challenge is to get you to be the developer you are in your most comfortable setting. Therefore, feel free to use any tool of your choice - but please don't use Microsoft Word. You are welcome to use Google, Stack Overflow or anything of the sorts. Literally there are no rules.

<u>I am looking for reliable developers who are good at problem solving, have a knack to learn coding. Unfortunately, since we are a company that works across the world, your communication levels are also measured - specially English speaking.</u>

Give it your best shot and help me understand your capabilities as a developer.  

## Instructions

- Create your own repository and complete the list of things to do as much as you can
- The deadline is specified in the e-mail that has been sent to you. Make sure you send an e-mail before the deadline with the link to your repository
	- Your repository needs to be accessible to me. You can either make it public or invite me to collaborate
	- Worst case scenario, zip and attach it the e-mail
		- Make sure you test all your code before sending
		- Your code must compile without errors
- Make sure to make your changes are committed regularly and your commits have meaningful messages
- Make sure your code is clean and well-structured
	- You can use any library that's helpful
- Feel free to get creative, or show-off
	- For instance, authentication is <u>not</u> required, but you may add it. Or you can change the project/class structure to be better

## Scenario

You are to create a set of APIs to help a small institute to manage their information. The institute offers courses where students can enroll. 
- A teacher can teach multiple courses, but the course can only have one teacher.
- A course can have one teacher, one subject and multiple students
	- Number of enrolled students cannot exceed the maximum number of students set for the course
- A student can enrolll in multiple courses
	- Cannot enroll for the same course twice
	- Cannot enroll for two courses with the same subject

## Things to do

- Design a database based on the above scenario and also the list of APIs that needs to be developed
	- "FirstName" and "LastName" columns must have a maximum length of 30
	- The "IsDeleted" flag signifies a deleted record. If it's set to true, the record should be considered as deleted. I.e. "delete" actions should not delete records permanently - it is just marked IsDeleted = true
	- Deleted objects must not be returned in queries
- The database, and it's objects (tables, stored procedures, indexes, relationships, etc.) are to be created using the Code-First approach in Entity Framework Core
	- "Migrations" folder in "CodingChallenge.SeniorDev.V1.DataAccess" project should contain all migrations created
	- Create a seeding method to initialize the data with some information - at least 2 courses, 2 teachers, 10 students
- Things to consider while developing APIs
	- All APIs must return JSON
	- Successful invocation of an API should do the expected and return data
		- HTTP code should be 200 OK
	- In case of an error, it should be output as a user-friendly error message
		- The stack trace should be not be visible
		- Should be formatted as a JSON
		- Proper HTTP error code should be set (For instance, Internal Error 500)
- Implement the following APIs
	- courses/all : This API has been implemented to give you a rough idea to create the API. It might help to understand the code structure
	- courses/enroll : This API allows students to enroll in a course
		- Method: POST
		- Request parameters
			- CourseID
			- StudentID
		- Response
			- If successfully enrolled, return the course information
			- Check for a valid course ID, student ID
	- teachers/all : This API returns all available teachers
	- students/all : This API returns all students
		- "FirstName" and "LastName" properties should not be included in the returned dataset
		- A "FullName" should be returned generated based on the "FirstName" and "LastName" properties
	- student/create : This API allows to create a new student record
		- Method: PUT
		- Request paramaters
			- First name
			- Last name
			- Birthdate
			- E-mail
			- NIC
		- Response
			- If successful, return the newly created student information
			- Check for a unique e-mail and NIC number
			- FirstName and LastName can only have alphabetical characters
		- **The newly created student should have a registration number in the format "ST001" and should be unique**
			- Registration number <u>MUST</u> be generated by the API automatically without any duplicates
	- student/delete : This API deletes one or more students
		- Method: POST
		- Request paramaters
			- List of registration IDs
		- Response
			- Return the list of successfully deleted student IDs
			- If the deleted students are enrolled in a course, the enrollment should be deleted as well
			- The API should not throw an error in any scenario
				- If one or more IDs in the list are invalid, skip the ID
				- If all IDs are invalid, the API will return an empty array
- Update the configuration file with your name and details about the hardest challenge faced while doing this

Feel free to reach out to me for any questions/clarifications/concerns. 

Good luck
